{% extends 'base.html.twig' %}

{% block title %}Utilisateur - Liste{% endblock %}

{% block body %}
    <div class="container container-contents pt-5 pb-5 bg-white">
        {# <div class="content-body"> #}
            <h2 class="p-2 d-block">Liste des utilisateurs <a href="{{ path('app_user_new') }}" class="btn btn-sm btn-success bg-bet ml-2"><i class="fa fa-plus fa-fw"></i>Ajouter</a></h2>
            <table id="table-user" class="table table-striped table-hover w-100">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>E-mail</th>
                        <th>Rôles</th>
                        <th>Statut (vérifié)</th>
                        <th style="width: 100px;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                {% for user in users %}
                    <tr>
                        <td>{{ user.id }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
                        <td>{{ user.isVerified ? 'Yes' : 'No' }}</td>
                        <td>
                            <a href="{{ path('app_user_show', {'id': user.id}) }}"><i class="fa fa-eye fa-fw text-primary"></i></a>
                            <a href="{{ path('app_user_edit', {'id': user.id}) }}"><i class="fa fa-edit fa-fw text-bet"></i></a>
                            {# {{ include('user/_delete_form.html.twig') }} #}
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="5" class="text-center">Aucun utilisateur trouvé.</td>
                    </tr>
                {% endfor %}
                </tbody>
                <tfoot>
                    <tr>
                        <th>Id</th>
                        <th>E-mail</th>
                        <th>Rôles</th>
                        <th>Statut (vérifié)</th>
                        <th>Actions</th>
                    </tr>
                </tfoot>
            </table>
        {# </div> #}
    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#table-user').DataTable();
        });
    </script>
{% endblock %}
